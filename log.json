{"level":"error","ts":"2022-06-21T09:03:19.818+0200","caller":"service/user.go:44","msg":"unauthorized entry","stacktrace":"jakubjano/todolist/user/pkg/service.(*UserService).UpdateUser\n\t/home/jakub/go/src/github.com/jakubjano/todolist/user/pkg/service/user.go:44\ngithub.com/jakubjano/todolist/apis/go-sdk/user/v1._UserService_UpdateUser_Handler.func1\n\t/home/jakub/go/src/github.com/jakubjano/todolist/apis/go-sdk/user/v1/user_grpc.pb.go:115\njakubjano/todolist/user/internal/auth.(*TokenClient).CustomUnaryInterceptor.func1\n\t/home/jakub/go/src/github.com/jakubjano/todolist/user/internal/auth/middleware.go:45\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware/recovery.UnaryServerInterceptor.func1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/recovery/interceptors.go:33\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:34\ngithub.com/jakubjano/todolist/apis/go-sdk/user/v1._UserService_UpdateUser_Handler\n\t/home/jakub/go/src/github.com/jakubjano/todolist/apis/go-sdk/user/v1/user_grpc.pb.go:117\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:1283\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:1620\ngoogle.golang.org/grpc.(*Server).serveStreams.func1.2\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:922"}
{"level":"info","ts":"2022-06-21T09:27:56.229+0200","caller":"service/user.go:58","msg":"update","updated_user":"test@example.com"}
{"level":"info","ts":"2022-06-21T09:44:09.241+0200","caller":"service/user.go:91","msg":"deleted user from FB","deleted_user":"dlCkRKcl05NM0puw4BgmBBQGnmZ2","deleted_by":"jakubjanek8@gmail.com"}
{"level":"info","ts":"2022-06-21T09:44:09.446+0200","caller":"service/user.go:99","msg":"deleted user from FS","deleted_user":"dlCkRKcl05NM0puw4BgmBBQGnmZ2","deleted_by":"jakubjanek8@gmail.com"}
{"level":"error","ts":"2022-06-21T10:12:37.476+0200","caller":"auth/middleware.go:35","msg":"ID token has expired at: 1655734838","stacktrace":"jakubjano/todolist/user/internal/auth.(*TokenClient).CustomUnaryInterceptor.func1\n\t/home/jakub/go/src/github.com/jakubjano/todolist/user/internal/auth/middleware.go:35\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware/recovery.UnaryServerInterceptor.func1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/recovery/interceptors.go:33\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:34\ngithub.com/jakubjano/todolist/apis/go-sdk/user/v1._UserService_UpdateUser_Handler\n\t/home/jakub/go/src/github.com/jakubjano/todolist/apis/go-sdk/user/v1/user_grpc.pb.go:117\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:1283\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:1620\ngoogle.golang.org/grpc.(*Server).serveStreams.func1.2\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:922"}
{"level":"info","ts":"2022-06-21T10:56:26.549+0200","caller":"service/user.go:40","msg":"admin authorized","admin_email":"jakubjanek8@gmail.com"}
{"level":"error","ts":"2022-06-21T10:56:26.847+0200","caller":"service/user.go:49","msg":"cannot find user from email: \"new@user.com\"","stacktrace":"jakubjano/todolist/user/pkg/service.(*UserService).UpdateUser\n\t/home/jakub/go/src/github.com/jakubjano/todolist/user/pkg/service/user.go:49\ngithub.com/jakubjano/todolist/apis/go-sdk/user/v1._UserService_UpdateUser_Handler.func1\n\t/home/jakub/go/src/github.com/jakubjano/todolist/apis/go-sdk/user/v1/user_grpc.pb.go:115\njakubjano/todolist/user/internal/auth.(*TokenClient).CustomUnaryInterceptor.func1\n\t/home/jakub/go/src/github.com/jakubjano/todolist/user/internal/auth/middleware.go:38\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware/recovery.UnaryServerInterceptor.func1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/recovery/interceptors.go:33\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1.1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:25\ngithub.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1\n\t/home/jakub/go/pkg/mod/github.com/grpc-ecosystem/go-grpc-middleware@v1.2.2/chain.go:34\ngithub.com/jakubjano/todolist/apis/go-sdk/user/v1._UserService_UpdateUser_Handler\n\t/home/jakub/go/src/github.com/jakubjano/todolist/apis/go-sdk/user/v1/user_grpc.pb.go:117\ngoogle.golang.org/grpc.(*Server).processUnaryRPC\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:1283\ngoogle.golang.org/grpc.(*Server).handleStream\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:1620\ngoogle.golang.org/grpc.(*Server).serveStreams.func1.2\n\t/home/jakub/go/pkg/mod/google.golang.org/grpc@v1.47.0/server.go:922"}
{"level":"info","ts":"2022-06-21T10:58:47.816+0200","caller":"service/user.go:40","msg":"admin authorized","admin_email":"jakubjanek8@gmail.com"}
{"level":"info","ts":"2022-06-21T10:58:48.264+0200","caller":"service/user.go:57","msg":"update","updated_user":"new@user.com","updated_by":"jakubjanek8@gmail.com"}
